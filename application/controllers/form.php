<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');class FORM extends CI_Controller {	function __construct(){		session_start();		parent::__construct();		$lang = $this->session->userdata('lang');		if($lang=='ch'){			$this->session->set_userdata('lang','ch');			$this->langtype='_ch';			$this->lang->load('gksel','chinese');		}else{			$this->session->set_userdata('lang','en');			$this->langtype='_en';			$this->lang->load('gksel','english');		}	}	public function index(){		$this->session->set_userdata('menu', 'order');		$data['website_title'] = 'Rojo Clothing';		$this->load->view('default/form_list', $data);	}			function form2(){		$this->load->view('default/form_list2');	}	function form3(){		$this->load->view('default/form_list3');	}}//添加用户FORM -- 处理方法function add_clientform($uid){	$lancodelist = getlancodelist();//多语言	$postOBJ = $this->input->post('GETOBJ');	$postOBJ_type = $this->input->post('GETOBJ_type');	$postOBJ_realname = $this->input->post('GETOBJ_realname');	$postLANGOBJ = $this->input->post('GETLANGOBJ');	//获取内容	if (!empty($postOBJ)) {		for ($p = 0; $p < count($postOBJ); $p++) {			if($postOBJ_type[$p] != 'image' && $postOBJ_type[$p] != 'file'){				${$postOBJ[$p]} = $this->input->post($postOBJ[$p]);				${$postOBJ[$p]} = replace_content(defaultreparr(), ${$postOBJ[$p]});			}		}	}	if (!empty($postLANGOBJ)) {		for ($lc = 0; $lc < count($lancodelist); $lc++) {			for ($p = 0; $p < count($postLANGOBJ); $p++) {				${$postLANGOBJ[$p].$lancodelist[$lc]['langtype']} = $this->input->post($postLANGOBJ[$p].$lancodelist[$lc]['langtype']);//产品名称				${$postLANGOBJ[$p].$lancodelist[$lc]['langtype']} = replace_content(defaultreparr(), ${$postLANGOBJ[$p].$lancodelist[$lc]['langtype']});			}		}	}	$arr = array('uid'=>$uid, 'edited_author'=>$this->admin_username, 'created'=>mktime(), 'edited'=>mktime());	//处理内容到数据库	if (!empty($postOBJ)) {		for ($p = 0; $p < count($postOBJ); $p++) {			if($postOBJ_type[$p] != 'image' && $postOBJ_type[$p] != 'file'){				$arr[$postOBJ[$p]] = ${$postOBJ[$p]};			}		}	}	if (!empty($postLANGOBJ)) {		for ($lc = 0; $lc < count($lancodelist); $lc++) {			for ($p = 0; $p < count($postLANGOBJ); $p++) {				$arr[$postLANGOBJ[$p].$lancodelist[$lc]['langtype']] = ${$postLANGOBJ[$p].$lancodelist[$lc]['langtype']};			}		}	}	$client_form_id = $this->UserModel->add_userform($arr);	}/* End of file welcome.php *//* Location: ./application/controllers/welcome.php */